/Codes [
{}{}{0 -306}{1}{0 l 0 n{5}{16}i}{144 l 7 a 0 l
t{6}{8}i}{143 143 l 0 0}{255 y 144 l b a d 144 144
l 8 a d 8}{144 l 0 l t{9}{14}i}{501 0 0}{255 y d 0
l 16 e{11}{12}i}{500 143 l 501 l 1 16 144 l s b 1
s y 144 l b a d 143 501 l 16 144 l s neg b
d 13}{500 143 l 501 l 144 l b a 1 0 l b 1 s
y d 143 501 l 0 l 144 l s neg b d 13}{144 144 l 8
0 l s a d 15}{500 143 l 1 0 l b 1 s y d 144 144
l 0 l s d 143 143 l 0 l neg b 1 144 l b 1
s y d 15}{17}{500 0 d 17}{500 l 2}{499 3 l d 3 517 499 l
a l d 517 499 l a 0 d 499 l 2}{0 l 0
n{20}{23}i}{517 0 l a l -19}{p 517 0 l 1 a a l
-19}{p 517 0 l 1 a a 0 d 517 0 l 2 a a 0 d 517 0 l
a 3 l d 3 0 l d 23}{0 2}{0 517 0 l a l
n{25}{30}i}{1 -4}{0 n{27}{28}i}{0 517 0 l 1 a a l d
29}{0 517 0 l a l d 29}{24}{517 0 l 2 a a l 2}{502 0 d
32}{502 l 17 t{33}{34}i}{465 502 l a 0 d 502 u l 1 a
d 0 p 32}{502 0 d 35}{502 l 0 l t{36}{37}i}{465 145 502
l a l a u l 1 a d 0 p 502 u l 1 a d 0 p
35}{465 0 d 482 0 d 502 0 d 38}{502 l 16 t{39}{40}i}{482 502
l 1 a a 482 502 l a l 465 502 l a l a 1 b
d 502 u l 1 a d 0 p 38}{520 0 d 502 0 d 41}{502 l 0 l
t{42}{55}i}{145 502 l a l 0 n{43}{54}i}{503 482 145 502
l a l a l d 482 145 502 l a l a u l 1 a d
0 p 505 3 d 504 145 502 l a l d 44}{504 l 0
n{45}{52}i}{504 u l 1 s d 0 p 517 505 l a l 0
e{46}{48}i}{517 505 l a 0 -18}{d 48}{503 l 1 504 l
b y 0 n{49}{50}i}{505 517 505 l a l 1 a d 51}{505
517 505 l a l 0 a d 51}{44}{517 505 l a 0 -18}{d 517 517
505 l a l 2 a a 502 l d 54}{502 u l 1 a d 0 p
41}{520 l 2}{2515 142 l a 0 l d 142 l 32767
e{57}{58}i}{142 0 d 59}{142 u l 1 a d 0 p 59}{142 l
141 l e{60}{64}i}{2515 141 l a l -1}{p 141 l 32767
e{62}{63}i}{141 0 d 64}{141 u l 1 a d 0 p 64}{0 2}{508 3
d 66}{508 l 4 n{67}{305}i}{509 0 d 510 0 d 143 0 d 144 0
d 141 0 d 142 0 d 514 0 d 515 0 d 517 0 d 518 0 d 519 0 d
520 0 d 521 0 d 522 0 d 3 6 d 506 3 l d 68}{506 l 1998
t{69}{70}i}{517 506 l a 506 l 3 a d 506 u l 1 a d
0 p 517 506 l a 0 d 506 u l 1 a d 0 p 517 506 l a 0
d 506 u l 1 a d 0 p 68}{508 0 0}{d 508 l 0
t{72}{73}i}{508 4 d 178}{508 l 120 e{74}{76}i}{8 -4}{p
508 1 d 178}{508 l 80 e{77}{150}i}{8 -4}{p 506 8 -4}{d 508 3
d 506 l 3 e{80}{107}i}{8 -4}{p 16 -4}{p 16 -4}{p 508 8
-4}{d 8 -4}{p 16 -4}{p 16 -4}{p 16 -4}{p 16 -4}{p 509 8 -4}{d
509 509 l 8 -4}{8 b a d 510 8 -4}{d 510 510 l 8 -4}{8
b a d 16 -4}{p 16 -4}{p 512 8 -4}{d 512 512 l 8 -4}{8
b a d 507 8 -4}{d 507 507 l 8 -4}{8 b a d
100}{512 l 0 n{101}{103}i}{8 -4}{p 512 u l 1 s d 0 p
100}{507 l 0 n{104}{106}i}{8 -4}{p 507 u l 1 s d 0 p
103}{149}{506 l 7 e{108}{113}i}{506 0 d 109}{506 l 13
t{110}{112}i}{8 -4}{p 506 u l 1 a d 0 p 109}{149}{506
l 5 e{114}{125}i}{506 0 d 115}{506 l 17 t{116}{118}i}{8
-4}{p 506 u l 1 a d 0 p 115}{506 8 -4}{d 506 506 l 8 -4}{8
b a d 121}{506 l 0 n{122}{124}i}{8 -4}{p 506 u l
1 s d 0 p 121}{149}{506 l 1 e{126}{149}i}{509 0 d 127}{509
l 25 t{128}{130}i}{8 -4}{p 509 u l 1 a d 0 p 127}{512
8 -4}{d 512 512 l 8 -4}{8 b a d 506 8 -4}{d 506 506 l 8
-4}{8 b a d 507 8 -4}{d 507 507 l 8 -4}{8 b a d
509 0 d 137}{509 l 12 t{138}{140}i}{8 -4}{p 509 u l 1 a
d 0 p 137}{512 l 0 n{141}{143}i}{8 -4}{p 512 u l 1 s
d 0 p 140}{506 l 0 n{144}{146}i}{8 -4}{p 506 u l 1 s
d 0 p 143}{507 l 0 n{147}{149}i}{8 -4}{p 507 u l 1 s
d 0 p 146}{178}{508 2 d 16 -4}{p 506 8 -4}{d 16 -4}{p 16 -4}{p
8 -4}{p 8 -4}{p 506 l 2 y 0 n{157}{159}i}{16 -4}{p 159}{506
l 4 y 0 n{160}{165}i}{507 16 -4}{d 162}{507 l 0
n{163}{165}i}{8 -4}{p 507 u l 1 s d 0 p 162}{506 l 8
y 0 n{166}{169}i}{8 -4}{0 n{168}{169}i}{166}{506 l 16 y 0
n{170}{173}i}{8 -4}{0 n{172}{173}i}{170}{506 l 32 y 0
n{174}{178}i}{512 0 d 175}{512 l 12 t{176}{178}i}{8 -4}{p
512 u l 1 a d 0 p 175}{508 l 0 e{179}{197}i}{509 l 0
n{180}{183}i}{-1 0 0}{c}{p 509 u l 1 s d 0 p 179}{510
l 0 n{184}{196}i}{-1 0 0}{c}{p -1 0 0}{c}{p 509 32767 d
189}{509 l 0 n{190}{195}i}{-1 0 0}{c}{p -1 0 0}{c}{p 509
u l 1 s d 0 p 189}{510 u l 1 s d 0 p 183}{294}{508
l 4 e{198}{199}i}{294}{508 l 3 n{200}{294}i}{506 0 d
201}{506 l 0 e{202}{288}i}{506 1 -4}{d 507 2 -4}{d 507 l 0
n{205}{279}i}{507 l 1 e{206}{222}i}{509 288 d 207}{509 l
0 n{208}{216}i}{509 u l 1 s d 0 p 509 l 144
t{209}{210}i}{145 509 l a 8 d 215}{509 l 256
t{211}{212}i}{145 509 l a 9 d 215}{509 l 280
t{213}{214}i}{145 509 l a 7 d 215}{145 509 l a 8 d
215}{207}{514 288 -31}{d 512 0 d 218}{512 l 32
t{219}{220}i}{145 512 l a 5 d 512 u l 1 a d 0 p
218}{515 32 -31}{d 256}{513 5 -4}{257 a d 516 5 -4}{1 a d 514 4
-4}{4 a d 509 0 d 226}{509 l 514 l t{227}{229}i}{145 4 509
l a l a 3 -4}{d 509 u l 1 a d 0 p 226}{509 l 19
t{230}{231}i}{145 4 509 l a l a 0 d 509 u l 1 a d
0 p 229}{514 19 -31}{d 510 0 d 509 0 d 233}{509 l 513 l 516
l a t{234}{249}i}{511 514 l -24}{d 511 l 16
e{236}{238}i}{511 510 l d 512 3 2 -4}{a d 245}{511 l 17
e{239}{241}i}{511 0 d 512 3 3 -4}{a d 245}{511 l 18
e{242}{244}i}{511 0 d 512 11 7 -4}{a d 245}{510 511 l d 512
1 d 245}{507 512 l d 246}{507 l 0 n{247}{248}i}{145 509 l
a 511 l d 509 u l 1 a d 0 p 507 u l 1 s d 0 p
246}{233}{514 l -19}{p 514 513 l -31}{d 509 516 l d 252}{509
l 0 n{253}{254}i}{509 u l 1 s d 0 p 145 509 l a 145
509 l 513 l a a l d 252}{515 516 l -31}{d 256}{509 514
l -24}{d 258}{509 l 256 n{259}{276}i}{509 l 257
t{260}{262}i}{509 l -56}{p 274}{509 509 l 257 s d 512 23
509 l a l 52 509 l a l -4}{a d 509 515 l -24}{d 509
81 509 l a l 111 509 l a l -4}{a d 142 l 509 l
t{266}{267}i}{509 32768 509 l s 142 l a d 268}{509 142
l 509 l s d 268}{512 l 0 n{269}{274}i}{2515 509 l a
l -56}{p 509 l 32767 e{271}{272}i}{509 0 d 273}{509 u l
1 a d 0 p 273}{512 u l 1 s d 0 p 268}{509 514 l -24}{d
258}{514 l -19}{p 515 l -19}{p 287}{144 l 7 y -4}{p 509 16
-4}{d 16 -4}{p 283}{509 l 0 n{284}{287}i}{-56 8 -4}{c}{p
509 u l 1 s d 0 p 283}{201}{141 l 142 l
n{289}{294}i}{2515 141 l a l -1}{p 141 l 32767
e{291}{292}i}{141 0 d 293}{141 u l 1 a d 0 p
293}{288}{508 l 2 e{295}{300}i}{16 -4}{p 16 -4}{p 16 -4}{p 16
-4}{p 304}{508 l 1 e{301}{304}i}{16 -4}{p 16 -4}{p 304}{66}{0
2}{1 1 d 2 0 d 307}{2 l 30 t{308}{309}i}{81 2 l a 1 l 1
a d 2 u l 1 a d 0 p 81 2 l a 1 l 1 b 1 l
a -1 b 1 a d 2 u l 1 a d 0 p 1 1 l 1 b d
307}{81 1 d 2 0 d 310}{2 l 30 t{311}{312}i}{111 2 l a 2
l -1 b 1 s d 2 u l 1 a d 0 p 310}{111 0 d 112 0
d 23 3 d 24 4 d 25 5 d 26 6 d 27 7 d 28 8 d 29 9 d 30 10 d
31 11 d 32 13 d 33 15 d 34 17 d 35 19 d 36 23 d 37 27 d 38 31
d 39 35 d 40 43 d 41 51 d 42 59 d 43 67 d 44 83 d 45 99 d 46
115 d 47 131 d 48 163 d 49 195 d 50 227 d 51 258 d 4 16 d 5 17
d 6 18 d 7 0 d 8 8 d 9 7 d 10 9 d 11 6 d 12 10 d 13 5 d 14
11 d 15 4 d 16 12 d 17 3 d 18 13 d 19 2 d 20 14 d 21 1 d 22
15 d 2 0 d 1 0 d 313}{2 l 28 t{314}{317}i}{2 l 4
e{315}{316}i}{1 1 d 316}{52 2 l a 2 l -2 b 1 l s
d 2 u l 1 a d 0 p 313}{80 0 d 0 -65}{p 0 2}
] bind def

20 dict begin
/x{load def}def
/l/load x
/b/bitshift x
/i/ifelse x
/d/def x
/a/add x
/s/sub x
/e/eq x
/n/ne x
/p/pop x
/u/dup x
/t/lt x
/c/exch x
/y/and x
currentdict end /XDict exch def

mark
Codes {
  % Stack: array1
  dup length array copy cvx
  dup 0 exch {
    % Stack: array1 index element
    3 copy
    % Stack: array1 index element array1 index element
    dup XDict exch known {
      XDict exch get
      % dup ===
      put
    }{
      pop pop pop
    } ifelse
    pop 1 add
  } forall
  % Stack: array1 length_of_array1
  pop
} forall
counttomark array astore exch pop

/Codes exch def
% ===
% type ===
%end quit

% vm.ps
% a simplified OC virtual machine
% by pts@fazekas.hu at Sat Jul 28 21:11:56 CEST 2001
% works!! -- Sat Jul 28 22:13:00 CEST 2001
%
% Timing: 153250ms user for bash.file
% Timing:   8240ms user for pts2.pbm
% Timing:   6790ms user for pts2.pbm, removed `exit's
% Timing:   6690ms user for pts2.pbm, changed signs
%
% l load
% b bitshift
% i ifelse
% d def
% a add
% s sub
% e eq
% n ne
% p pop
% u dup
% t lt
%
%
% Usage: gs -r72 -q vm.ps

% pts2.pbm: w=419 h=534 data_offset=34 size=28336
% pts2.pbm.gz csize=7520

%/Codes [
%  (t) run
%] bind def

% Codes === {

%%%/Ram 36000 array def
0 1 35999 {0 def} for
/Ip 2 def
/Stdin (%stdin) (r) file def
%/Stdin (pts2.pbm.gz) (r) file def
%/Offset 34 def % must be smaller than `AllOut length'
%/Stdin (alma.gz) (r) file def
/Stdout (%stdout) (w) file def
%/AllOut 4096 string def
%/Stack [ ] def

%/_img_src { % - _img_src <data-string>
%  /SubOut AllOut def
%  mark Stack aload pop
  {

    % /Exec ===
    Codes Ip get exec
    % /Done ===
    dup -1 lt { % function call
      neg
      %%% Ram 0 get % save arg to stack
      0 load
      Ip 1 add  % save return position to stack
      % Now: <arg> <faddr> <retarg> <retip>
      4 2 roll
      /Ip exch def
      %%% Ram exch 0 exch put
      0 exch def
      % Now: <retarg> <retip>
    }{
      dup 2 gt { % JMP
        /Ip exch def
      }{
        /Ip Ip 1 add def
        dup 0 eq { % getchar()
          pop pop % forget faddr and arg
          Stdin read not{-1}if
        }{
          dup -1 eq { % putchar()
            pop % forget faddr
            Stdout exch write
            % neg 255 add % negate component brr...!! -- pbm and ps differ!
            % SubOut exch 0 exch put
            0 % fake retval
            % /SubOut SubOut 1 SubOut length 1 sub getinterval def
            % SubOut length 0 eq{exit}if
          }{
            dup 1 eq { % halt
              pop pop % forget junk!!
              /Ip Ip -1 add def % let it halt again!
              exit % _halt_
            }{ % RET
              pop % forget ..faddr
              3 1 roll
              % Now: <retval> <retarg> <retip>
              /Ip exch def
              %%% Ram exch 0 exch put
              0 exch def
              % Now: <retval>
            } ifelse
          } ifelse
        } ifelse
      } ifelse
    } ifelse
  } bind loop
%  counttomark array astore exch pop
%  % Now: <new-Stack>
%  /Stack exch def
%  AllOut Offset AllOut length SubOut length sub Offset sub getinterval % return substring
%  /Offset 0 def
%} bind def

quit
